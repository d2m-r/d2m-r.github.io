<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>w7c2 – d2m-r.github.io</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-6bd9cfa162949bde0a231f530c97869d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">d2m-r.github.io</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<!-- 

Find and replace:

- 7 : week number (numeral only)
- 2 : class number (per week, numeral only)
- Friday, February 21, 2025 : date in format Monday, January 1, 2025
- Hypothesis Testing : brief title/topic of the class meeting

TODO: see if there's a way to make these variables
The problem is that if they are includes with multiple on the index page, the variables would need to process before being included. 

-->
<!--
#### Announcements/Housekeeping/Etc

Text to appear before the accordion

-->
<div id="w7c2" class="accordion">
<div class="accordion-item">
<div class="accordion-header titlebox">
<p>Week 7 | Class 2</p>
</div>
</div>
<div class="accordion-item">
<div class="datebox">
<p>Friday, February 21, 2025</p>
</div>
</div>
<div class="accordion-item">
<div class="accordion-header">
<div class="accordion-button collapsed prepbox" type="button" data-bs-toggle="collapse" data-bs-target="#prep-w7c2" aria-expanded="false" aria-controls="prep-w7c2">
<p><strong>Before class:</strong> Inferential Statistics Resources</p>
</div>
</div>
<div id="prep-w7c2" class="accordion-collapse collapse" data-bs-parent="#w7c2">
<div class="accordion-body">
<p><strong>Readings &amp; Resources:</strong></p>
<ul>
<li><a href="https://statsandr.com/">Stats and R</a>
<ul>
<li><a href="https://statsandr.com/blog/anova-in-r/">ANOVA in R</a></li>
<li><a href="https://statsandr.com/blog/multiple-linear-regression-made-simple/">Multiple linear regression made simple</a></li>
<li><a href="https://statsandr.com/blog/binary-logistic-regression-in-r/">Binary logistic regression in R</a></li>
<li><a href="https://statsandr.com/blog/chi-square-test-of-independence-in-r/">Chi-square test of independence in R</a></li>
</ul></li>
<li><a href="https://rpsystats.com/">A Practical Extension of Introductory Statistics in Psychology using R</a>
<ul>
<li>Ch 5 Simple Linear Regression</li>
<li>Ch 10 One-way ANOVA</li>
<li>Ch 12 GLM Approach Summary</li>
</ul></li>
<li><a href="https://open.umn.edu/opentextbooks/textbooks/559">Learning Statistics with R</a>
<ul>
<li>Ch 12 Categorical data analysis</li>
<li>Ch 14 Comparing several means (1-way ANOVA)</li>
<li>Ch 15 Linear regression</li>
</ul></li>
<li><a href="https://journals.sagepub.com/doi/full/10.1177/2515245920960351">Brown VA. (2021) An Introduction to Linear Mixed-Effects Modeling in R</a>. <em>Advances in Methods and Practices in Psychological Science.</em></li>
<li>Linear &amp; Mixed-effects model tutorials
<ul>
<li><a href="http://arxiv.org/pdf/1308.5499.pdf">lme4 Tutorial 1: Linear models and linear mixed effects models in R with linguistic applications.</a></li>
<li><a href="https://jontalle.web.engr.illinois.edu/MISC/lme4/bw_LME_tutorial.pdf">lme4 Tutorial 2: A very basic tutorial for performing linear mixed effects analyses</a></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div class="accordion-item">
<div class="accordion-header">
<div class="accordion-button collapsed classbox" type="button" data-bs-toggle="collapse" data-bs-target="#class-w7c2" aria-expanded="false" aria-controls="class-w7c2">
<p><strong>Class meeting:</strong> Hypothesis Testing / Inferential Statistics</p>
</div>
</div>
<div id="class-w7c2" class="accordion-collapse collapse" data-bs-parent="#w7c2">
<div class="accordion-body">
<p><strong>Materials:</strong></p>
<ul>
<li><del>Slides</del> Demo only: <code>d2mr-assessment/00_in-class-materials/stats-demo-2.qmd</code></li>
</ul>
<p><strong>Class plans:</strong></p>
<ul>
<li>Stats part 2 demo (inferential statistics)</li>
<li>Group work: selecting analyses</li>
</ul>
</div>
</div>
</div>
<div class="accordion-item">
<div class="accordion-header">
<div class="accordion-button collapsed infobox" type="button" data-bs-toggle="collapse" data-bs-target="#info-w7c2" aria-expanded="false" aria-controls="info-w7c2">
<p><strong>Info:</strong> A very long message about mini-projects</p>
</div>
</div>
<div id="info-w7c2" class="accordion-collapse collapse" data-bs-parent="#w7c2">
<div class="accordion-body">
<p>I get the impression that many of you aren’t feeling confident about how to earn all the points for your mini-projects. If I’m right, I want to fix this as soon as possible since we’re nearing the end of the quarter. The 2 biggest things I want to communicate in this long message are:</p>
<ol type="1">
<li><strong>Talk to me if you need help.</strong></li>
<li><strong>Don’t let flexibility be a distraction.</strong></li>
</ol>
<p>Not sure how many projects to do? Which projects to do? What counts as assessed and unassessed and off the menu and off the syllabus or any of the other terms I’m throwing around?&nbsp;<strong>Please ask me.</strong>This is the first time using an alternative grading system in this class, and it’s important to me that it is a&nbsp;<em>better</em>&nbsp;experience for you than the old system. Clearly not everything is going 100% smoothly, and I’m learning as we go what parts of the course design need fixing. That’s all well and good for future students who will benefit from changes made going forward, but I have a responsibility to make sure the less-than-helpful parts of the system aren’t holding&nbsp;<em>you</em>&nbsp;back right now.<strong>If you are feeling unsure about how to get the grade you want, please email me.</strong>&nbsp;We can work out a plan to give you more structure and guidance to get you where you want to go. You don’t have to just flail and guess and hope for the best.In addition to encouraging you to ask for help with your specific circumstances, here are some general bits of advice:</p>
<ol type="1">
<li><strong>Again, don’t let flexibility be a distraction.</strong>&nbsp;If you’re looking at this vast “menu” and all the many times I say “do whatever!” on the website and it’s making you feel like you don’t know where to start, tune it out. Pick the mini-projects you’re going to do now from the ones already published, ignore the optional/challenge parts, and set yourself deadlines for submission (you can ask me or the TAs to help you set goals).</li>
<li>You only have to meet 20 unique objectives across all mini-projects. Pick which 20 you want those to be and work toward them. Frustrated by git and/or apaquarto and dreading the idea of making a new repo for those purposes? Don’t include those objectives in your 20.
<ol type="1">
<li>I expect most students will need to complete 3-5 mini-projects to earn 50 points. If you’re not sure how many you should try, budget time for 6-7.</li>
<li>To help you plan, I’ve put together a list of all published mini-projects along with the essential info about each.&nbsp;<a href="https://nrdowling.com/d2mr/assessment/menu.html">View that list here.</a></li>
<li>If you’re unsure how to earn a point for some particular objective, look at the recommendations in the assessment file and follow them to the letter. In some cases that will mean forcing in some arbitrary elements just to prove you can.</li>
</ol></li>
<li>For the other 20 points, there’s a good chance that in the work you’re already doing you are checking off some of the “unassessed” objectives. Adding lots of comments? Using internally consistent style? Planning out your plots with the grammar of graphics? Transforming your data into a tidy format because you can identify that it needs to be tidy for plotting? These are all points. When you complete the assessment for a project, look at that list carefully and see if there are any points you already did without even thinking about it and/or if there are some you could hit with minimal additional effort.</li>
<li>You do not need to push yourself to complete projects to exceptional standards. Remember:&nbsp;<em>Done is better than good</em>. If you have to choose between getting something&nbsp;<em>done</em>&nbsp;and making something “good,” choose done. In this system you are cumulatively earning points, not losing points for imperfections. There’s no reason not to turn in “bad” work if it’s going to get you to your ultimate goal.</li>
<li>If the “off-the-menu” and “off-the-syllabus” project ideas are confusing, just ignore them. You don’t need either. These are there for people who are already motivated to pursue them for their own interests, not to distract anyone from focusing on the basics.</li>
</ol>
<p>I genuinely want every person in this class to earn an A, and from what I’ve seen so far I think you all can.&nbsp;<strong>Again, it’s my responsibility to make sure this new class structure is not so chaotic that it harms your learning or your grades, but I can’t help you if you don’t let me know there’s a problem.</strong></p>
</div>
</div>
</div>
<div class="accordion-item">
<div class="accordion-header">
<div class="accordion-button collapsed todobox" type="button" data-bs-toggle="collapse" data-bs-target="#post-7c2" aria-expanded="false" aria-controls="after-w7c2">
<p><strong>After class:</strong> Get organized! And test hypotheses</p>
</div>
</div>
<div id="post-7c2" class="accordion-collapse collapse" data-bs-parent="#w7c2">
<div class="accordion-body">
<p><strong>To-do: Make/review you plan</strong></p>
<ul>
<li>It’s the end of 7th week — how close are you to the 50 mini-project points? The 40 research project points? What do you need to do to get the grade you want by the end of the quarter?</li>
<li>Deadlines:
<ul>
<li>Mini-projects due <strong>March 5th</strong> (Wed Week 9)</li>
<li>Final research projects due <strong>March 12th</strong> (Wed Finals Week)</li>
</ul></li>
</ul>
<p><strong>Recommended exercise:</strong></p>
<ul>
<li><strong>Inferential statistics structured exercise:</strong>
<ul>
<li>Practice using R to analyze data with common inferential statistics techniques. The exercise includes some work with ggplot2 and opportunities to use inline R code in narrative statistical interpretation.</li>
<li>Associated files: <code>04_data-analysis/02_hypothesis-testing</code></li>
</ul></li>
</ul>
</div>
</div>
</div>
</div>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>