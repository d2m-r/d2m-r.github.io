<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Guidelines for GitHub Submissions – Data to Manuscript in R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/icons/hex3.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-8bb6176866c9300bcf83c3191822f65e.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Data to Manuscript in R</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-syllabus" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Syllabus</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-syllabus">    
        <li>
    <a class="dropdown-item" href="../../syllabus/structure.html">
 <span class="dropdown-text">Course Structure</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../syllabus/communication.html">
 <span class="dropdown-text">Communication</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../syllabus/ai-policy.html">
 <span class="dropdown-text">AI Use</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../syllabus/climate.html">
 <span class="dropdown-text">Climate &amp; Inclusion</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-assessment" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Assessment</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-assessment">    
        <li>
    <a class="dropdown-item" href="../../assessment/overview.html">
 <span class="dropdown-text">Overview</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../assessment/objectives.html">
 <span class="dropdown-text">Learning Objectives</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../assessment/accountability.html">
 <span class="dropdown-text">Accountability</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../assessment/engagement.html">
 <span class="dropdown-text">Community Engagement</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../assessment/menu.html">
 <span class="dropdown-text">Project Menu</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../assessment/enrichment.html">
 <span class="dropdown-text">Enrichment Activities</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../assessment/data-project.html">
 <span class="dropdown-text">Integrative Data Project</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-materials" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Materials</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-materials">    
        <li>
    <a class="dropdown-item" href="../../github.com/d2m-r/book/index.html">
 <span class="dropdown-text">Textbook (WIP)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../materials/slides.html">
 <span class="dropdown-text">Slides</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../materials/course-resources.html">
 <span class="dropdown-text">Course Resources</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../materials/resources.html">
 <span class="dropdown-text">External Resources</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../materials/finding-data.html">
 <span class="dropdown-text">Finding Data</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="https://d2m-r.github.io/submit.html"> 
<span class="menu-text">Submit</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../d2m-r.github.io"> 
<span class="menu-text">FAQ</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#github-submission-overview" id="toc-github-submission-overview" class="nav-link active" data-scroll-target="#github-submission-overview">GitHub Submission Overview</a></li>
  <li><a href="#submitting-github-classroom-assignments" id="toc-submitting-github-classroom-assignments" class="nav-link" data-scroll-target="#submitting-github-classroom-assignments">Submitting GitHub Classroom assignments</a>
  <ul class="collapse">
  <li><a href="#accept-the-assignment-and-create-your-repo" id="toc-accept-the-assignment-and-create-your-repo" class="nav-link" data-scroll-target="#accept-the-assignment-and-create-your-repo">Accept the assignment and create your repo</a></li>
  <li><a href="#work-locally-in-rstudio" id="toc-work-locally-in-rstudio" class="nav-link" data-scroll-target="#work-locally-in-rstudio">Work locally in RStudio</a></li>
  <li><a href="#githubs-feedback-branch-and-pull-request" id="toc-githubs-feedback-branch-and-pull-request" class="nav-link" data-scroll-target="#githubs-feedback-branch-and-pull-request">GitHub’s <code>feedback</code> Branch and Pull Request</a></li>
  <li><a href="#complete-the-project-submission-form" id="toc-complete-the-project-submission-form" class="nav-link" data-scroll-target="#complete-the-project-submission-form">Complete the Project Submission Form</a></li>
  </ul></li>
  <li><a href="#submitting-work-from-your-own-repo" id="toc-submitting-work-from-your-own-repo" class="nav-link" data-scroll-target="#submitting-work-from-your-own-repo">Submitting Work from your Own Repo</a>
  <ul class="collapse">
  <li><a href="#setting-up-your-own-repo-and-access" id="toc-setting-up-your-own-repo-and-access" class="nav-link" data-scroll-target="#setting-up-your-own-repo-and-access">Setting up your own repo and access</a>
  <ul class="collapse">
  <li><a href="#core-standards-and-enrichment-projects-repos-in-d2m-r" id="toc-core-standards-and-enrichment-projects-repos-in-d2m-r" class="nav-link" data-scroll-target="#core-standards-and-enrichment-projects-repos-in-d2m-r">Core Standards and Enrichment projects (repos in <code>d2m-r</code>)</a></li>
  <li><a href="#integrative-data-projects-repos-in-your-own-account" id="toc-integrative-data-projects-repos-in-your-own-account" class="nav-link" data-scroll-target="#integrative-data-projects-repos-in-your-own-account">Integrative Data Projects (repos in your own account)</a></li>
  <li><a href="#privacy-and-visibility" id="toc-privacy-and-visibility" class="nav-link" data-scroll-target="#privacy-and-visibility">Privacy and visibility</a></li>
  </ul></li>
  <li><a href="#create-a-feedback-branch" id="toc-create-a-feedback-branch" class="nav-link" data-scroll-target="#create-a-feedback-branch">Create a <code>feedback</code> branch</a>
  <ul class="collapse">
  <li><a href="#feedback-n-branches-integrative-data-projects" id="toc-feedback-n-branches-integrative-data-projects" class="nav-link" data-scroll-target="#feedback-n-branches-integrative-data-projects"><code>feedback-N</code> branches (Integrative Data Projects)</a></li>
  </ul></li>
  <li><a href="#preparing-your-project-for-submission" id="toc-preparing-your-project-for-submission" class="nav-link" data-scroll-target="#preparing-your-project-for-submission">Preparing your project for submission</a></li>
  <li><a href="#open-the-pull-request-to-feedback-from-main" id="toc-open-the-pull-request-to-feedback-from-main" class="nav-link" data-scroll-target="#open-the-pull-request-to-feedback-from-main">Open the pull request to <code>feedback</code> from <code>main</code></a>
  <ul class="collapse">
  <li><a href="#add-a-pr-description" id="toc-add-a-pr-description" class="nav-link" data-scroll-target="#add-a-pr-description">Add a PR description</a></li>
  </ul></li>
  <li><a href="#complete-the-project-submission-form-1" id="toc-complete-the-project-submission-form-1" class="nav-link" data-scroll-target="#complete-the-project-submission-form-1">Complete the Project Submission Form</a></li>
  </ul></li>
  <li><a href="#receiving-feedback-and-making-revisions" id="toc-receiving-feedback-and-making-revisions" class="nav-link" data-scroll-target="#receiving-feedback-and-making-revisions">Receiving feedback and making revisions</a>
  <ul class="collapse">
  <li><a href="#revisions-for-core-standards-and-enrichment-projects" id="toc-revisions-for-core-standards-and-enrichment-projects" class="nav-link" data-scroll-target="#revisions-for-core-standards-and-enrichment-projects">Revisions for Core Standards and Enrichment projects</a></li>
  <li><a href="#revisions-for-integrative-data-projects" id="toc-revisions-for-integrative-data-projects" class="nav-link" data-scroll-target="#revisions-for-integrative-data-projects">Revisions for Integrative Data Projects</a></li>
  <li><a href="#not-merging-branches" id="toc-not-merging-branches" class="nav-link" data-scroll-target="#not-merging-branches">(Not) Merging branches</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Guidelines for GitHub Submissions</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="github-submission-overview" class="level1">
<h1>GitHub Submission Overview</h1>
<p>In D2M-R, most work is submitted through GitHub repositories. A GitHub repository (repo) is where your project files live and where we review your code and reports.</p>
<p>There are two main ways your repos are created:</p>
<ul>
<li><strong>GitHub Classroom assignments</strong>: You click an invitation link. GitHub automatically creates a private repo for you in the course organization and sets up a special <code>feedback</code> branch and pull request (PR) where your grader leaves comments.</li>
<li><strong>Student-created repositories</strong>: You create your own private repo, either in the <code>d2m-r</code> organization (for Core Standards and Enrichment projects) or in your personal GitHub account (for Integrative Data Projects). You then create a <code>feedback</code> branch and PR that we use for grading. See a demo for repo creation and setup <a href="https://uchicago.box.com/s/t0cb155utxtpnz3yhs754qih7yhiwymm">here</a>.</li>
</ul>
<p>In both cases:</p>
<ul>
<li>Your graded work lives on the <code>main</code> branch.</li>
<li>A pull request to a <code>feedback</code> branch to <code>main</code> is the space where feedback is left.</li>
<li>You must complete a <code>submission.md</code> document with self-evaluation and AI disclosure.</li>
<li>Only you, the instructors, and (for group assignments) your designated group members can see your repo, your pull request, and your feedback. Other students cannot.</li>
<li>Your work is not “submitted” until you submit the <a href="d2m-r.github.io/submit.html">Project Submission Form</a>.</li>
</ul>
<hr>
</section>
<section id="submitting-github-classroom-assignments" class="level1">
<h1>Submitting GitHub Classroom assignments</h1>
<p>Most projects on the Project Menu have an option to complete via a GitHub Classroom assignment. In these cases, GitHub handles most of the setup for you.</p>
<section id="accept-the-assignment-and-create-your-repo" class="level2">
<h2 class="anchored" data-anchor-id="accept-the-assignment-and-create-your-repo">Accept the assignment and create your repo</h2>
<p>When you open the GitHub Classroom invitation link for an assignment GitHub will create a private repo for you in the D2M-R course organization. You can find this repo on GitHub under the organization with a name that includes your username and the assignment.</p>
<p>Note that GH Assignments are based on template repos that will also be visible in the organization’s list of repos. Be sure you are looking at <em>your</em> repo, not the template.</p>
</section>
<section id="work-locally-in-rstudio" class="level2">
<h2 class="anchored" data-anchor-id="work-locally-in-rstudio">Work locally in RStudio</h2>
<p>Clone the repo to your local machine as an RStudio project, then do your work in R/RStudio.</p>
<p>As you make progress, you should commit regularly and push whenever you want your work backed up or visible in GitHub. At a minimum, you must push when you are ready to submit.</p>
<p>In RStudio:</p>
<ul>
<li>Use the Git pane to review changed files.</li>
<li>Click <strong>Commit</strong> to open the commit dialog, write a clear message, and commit.</li>
<li>Click <strong>Push</strong> to send your latest commits to GitHub.</li>
</ul>
<p>Command line equivalent:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Describe what you did"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push origin main</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Before you submit the assignment, make sure all the work you want graded has been committed and pushed to the <code>main</code> branch. If you are working in a GH Classrooms assignment, you do not need to interact with branches at all. The <code>main</code> branch will be active by default, and there is no need to create or change branches as you work.</p>
<p>Do <em>not</em> try to create the <code>feedback</code> branch yourself! It is created automatically when you submit.</p>
</section>
<section id="githubs-feedback-branch-and-pull-request" class="level2">
<h2 class="anchored" data-anchor-id="githubs-feedback-branch-and-pull-request">GitHub’s <code>feedback</code> Branch and Pull Request</h2>
<p>For Classroom assignments:</p>
<ul>
<li>GitHub automatically creates a <code>feedback</code> branch and a pull request that allows for communication between you and your grader.</li>
<li>Your grader will use this PR to:
<ul>
<li>Leave inline comments on specific lines (if necessary)</li>
<li>Leave file-level comments on specific files (if necessary)</li>
<li>Leave a summary review on the Pull Request itself, including points awarded</li>
</ul></li>
</ul>
<p>You should be auto-subscribed to the PR when it is created, but you should confirm subscription to be sure you are notified when your work has been graded. You can see all grader feedback in the pull requests tab on the repo’s GitHub page.</p>
</section>
<section id="complete-the-project-submission-form" class="level2">
<h2 class="anchored" data-anchor-id="complete-the-project-submission-form">Complete the Project Submission Form</h2>
<p>Submit your work via the <a href="d2m-r.github.io/submit.html">Project Submission Form</a>. This requires the URL of your pull request, which you can find in the original GH notification about the PR or navigating to the request and copying the URL from your browser.</p>
<p><strong><em>Your work is not in the grading queue until you also submit the form!</em></strong></p>
<hr>
</section>
</section>
<section id="submitting-work-from-your-own-repo" class="level1">
<h1>Submitting Work from your Own Repo</h1>
<p>There are several cases where you will not work from a GH Classroom assignment:</p>
<ul>
<li><strong>Demonstration of Git/GitHub core standard:</strong> Using GH Classrooms is not sufficient to demonstrate GitHub core objectives. Earning points requires completing a project in a private repo you create yourself within the <code>d2m-r</code> organization.
<ul>
<li>Read the <a href="../../assessment/misc/gh-assessment.html">Git &amp; GitHub Assessment Guidelines</a> for details on how to demonstrate this core standard.</li>
</ul></li>
<li><strong>Standards Projects without Classroom options:</strong> Some Core Standards and Enrichment projects do not have GH Classroom options. In these cases, you create a private repo in the <code>d2m-r</code> organization for the project, like above.</li>
<li><strong>Integrative Data Projects:</strong> You create a private repo in your personal GitHub account. You add the instructor and TA(s) as collaborators with Write (or higher) access. You have full ownership of the repo and retain control after the course ends.</li>
</ul>
<p>In these cases, the submission workflow is effectively mimicking what you’d get from GH Classrooms:</p>
<ol type="1">
<li>Create a <code>feedback</code> branch.</li>
<li>Make sure your graded work is on <code>main</code>.</li>
<li>Open a PR to <code>feedback</code> from <code>main</code> branch with a standard title and description.</li>
<li>Submit the PR link via the Project Submission Form.</li>
<li>Watch the PR for feedback and, if invited, make revisions.</li>
</ol>
<p>The sections below spell out these steps in more detail.</p>
<p>See a demo for repo creation and setup <a href="https://uchicago.box.com/s/t0cb155utxtpnz3yhs754qih7yhiwymm">here</a>.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Timing
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Initialize the repo</li>
<li>Create <code>feedback</code> branch</li>
<li>Work in <code>main</code></li>
<li>Open PR to <code>feedback</code> from <code>main</code></li>
</ol>
<p><strong>Create your feedback branch at the same time you create your repo, before you do any work on <code>main</code>.</strong></p>
<p>This ensures that the branches are identical at the start, making it easier to manage later. It also ensure they are <em>not</em> identical at the end, which would result in nothing to compare for pull and grading.</p>
<blockquote class="blockquote">
<p>I already started working without a feedback branch!</p>
</blockquote>
<p>Not ideal, but not the end of the world–create it <em>right now.</em></p>
<p>If you’ve made it all the way to the end and are creating it at the same time you submit, you won’t be able to open a PR immediately because there will be no differences between branches. Go back to your main branch and make any kind of edit at all (even adding a space somewhere), commit, and push. That will create a difference that allows the PR to be opened.</p>
<p>If you are creating the feedback branch <em>at any point</em> after working in main, your grader won’t see all your changes in the PR. They will only see changes made <em>after</em> the feedback branch was created. <strong>Add a message to your grader in the description of your pull request</strong> explaining that all work prior to the branch creation is on <code>main</code>.</p>
<blockquote class="blockquote">
<p>What about the pull request?</p>
</blockquote>
<p>You can open the PR at any time after creating the <code>feedback</code> branch. The PR compares the <em>current state</em> of both branches (including commits made after the PR is opened), so as as you’ve done all your work in commits to <code>main</code> it doesn’t matter when you open it.</p>
<p>GitHub Classroom assignments create the PR automatically, immediately after repo creation. You can do the same, but remember there has to be <em>some</em> difference between branches to open the PR. You can add an arbitrary edit to <code>main</code> if needed to create that difference.</p>
<p>Alternatively, create the pull request at the time of submission. If you created <code>feedback</code> at the repo’s initiation and did all work in <code>main</code>, you won’t need the extra edit step.</p>
</div>
</div>
<section id="setting-up-your-own-repo-and-access" class="level2">
<h2 class="anchored" data-anchor-id="setting-up-your-own-repo-and-access">Setting up your own repo and access</h2>
<section id="core-standards-and-enrichment-projects-repos-in-d2m-r" class="level3">
<h3 class="anchored" data-anchor-id="core-standards-and-enrichment-projects-repos-in-d2m-r">Core Standards and Enrichment projects (repos in <code>d2m-r</code>)</h3>
<p>For these projects, you will work in a <strong>private</strong> repo in the <code>d2m-r</code> organization.</p>
<ol type="1">
<li>Create a new private repo in the <code>d2m-r</code> org for the project. Give your repo a sensible, descriptive name that ends with your username (e.g., <code>d2m-r/pet-adoption-nrdowling</code>)</li>
<li>Because the repo is in the course organization, instructors already have access. If you are completing a group project, one group member should initialize the repo and add the other group members as collaborators with Write access.</li>
</ol>
</section>
<section id="integrative-data-projects-repos-in-your-own-account" class="level3">
<h3 class="anchored" data-anchor-id="integrative-data-projects-repos-in-your-own-account">Integrative Data Projects (repos in your own account)</h3>
<p>For Integrative Data Projects, you will work in a private repo in your personal GitHub account.</p>
<ol type="1">
<li>Create a new private repo in your own GitHub account for your data project. Give your repo a sensible name descriptive of the project’s data or research questions.
<ol type="1">
<li>You should create and maintain its repo as though you were going to invite collaborators from outside the class. They don’t know what <code>data-project</code> or <code>natalie-d2mr-final</code> mean. They (and future you) want <code>child-gesture</code> or <code>chicago-crime-rates</code>, where they/you immediately know what to expect to find inside.</li>
</ol></li>
<li>Add the instructor and TA(s) as collaborators</li>
</ol>
<p>This lets you keep using the same repo after the course ends, while still allowing us to review and comment during the quarter.</p>
</section>
<section id="privacy-and-visibility" class="level3">
<h3 class="anchored" data-anchor-id="privacy-and-visibility">Privacy and visibility</h3>
<p>For all projects, you must initiate your repos as private. Invite group members as collaborators for group projects (all members will be able to see all comments in the repo). Invite instructors if the repo is not in the D2M-R organization.</p>
<p><strong>Any collaborators you add will be able to see all pull requests, including feedback and grades.</strong></p>
<p>To add collaborators:</p>
<pre><code>1. Go to your repo on GitHub.
2. Open **Settings → Collaborators and teams** (or **Manage access**).
3. Click **Add people** and add the GitHub usernames. (View course site for instructor/TA info.)</code></pre>
</section>
</section>
<section id="create-a-feedback-branch" class="level2">
<h2 class="anchored" data-anchor-id="create-a-feedback-branch">Create a <code>feedback</code> branch</h2>
<p>The <code>feedback</code> branch exists so we can open a PR and leave feedback in a dedicated space, similar to GitHub Classroom’s <code>feedback</code> branch.</p>
<p><strong>Reminder:</strong> If you are working in a GH Classrooms assignment, the <code>feedback</code> branch is created for you. Do not try to create it yourself or terrible merge disasters may happen!</p>
<p>In RStudio:</p>
<ol type="1">
<li>Make sure you are on the <code>main</code> branch. In the Git pane, use the branch dropdown to check that <code>main</code> is selected.</li>
<li>Create a new branch named <code>feedback</code> from <code>main</code> by choosing “New Branch…” from the dropdown and enter <code>feedback</code>.</li>
<li>Switch to the <code>feedback</code> branch with the dropdown if RStudio does not do this automatically.</li>
<li>Click <strong>Push</strong> so that the <code>feedback</code> branch exists on GitHub.</li>
</ol>
<p>Command line equivalent:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> checkout main</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> pull</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> branch feedback</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push <span class="at">-u</span> origin feedback</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>After this, you should see two branches in your repo on GitHub: <code>main</code> and <code>feedback</code>. At this point, they should be identical.</p>
<p><strong>Reminder: The <code>feedback</code> branch is for comparison and feedback only. All the work you complete must happen in the <code>main</code> branch.</strong> This means if you continue working on the project after creating the feedback branch, you will need to switch back to <code>main</code>.</p>
<section id="feedback-n-branches-integrative-data-projects" class="level3">
<h3 class="anchored" data-anchor-id="feedback-n-branches-integrative-data-projects"><code>feedback-N</code> branches (Integrative Data Projects)</h3>
<p>Integrative Data Projects may be submitted up to 3 times during the quarter. In this case, you will use numbered feedback branches so each submission attempt has its own pull request:</p>
<ul>
<li>First submission: branch <code>feedback-1</code></li>
<li>Second submission: branch <code>feedback-2</code></li>
<li>Third submission: branch <code>feedback-3</code></li>
</ul>
</section>
</section>
<section id="preparing-your-project-for-submission" class="level2">
<h2 class="anchored" data-anchor-id="preparing-your-project-for-submission">Preparing your project for submission</h2>
<p>Before you create the feedback branch and pull request, make sure that your work on <code>main</code> reflects what you want graded.</p>
<p>By the time you submit, everything you want graded must be pushed to the <code>main</code> branch.</p>
<p>In RStudio, you should see the name of the current branch in the Git pane. Use the pane to stage files, commit with a final informative message (e.g., <code>Final submission for pet adoption assignment</code> or <code>Integrative data project draft -- submission 2</code>), and push to GitHub.</p>
<p>Command line equivalent:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Final submission for pet adoption assignment"</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push origin main</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="open-the-pull-request-to-feedback-from-main" class="level2">
<h2 class="anchored" data-anchor-id="open-the-pull-request-to-feedback-from-main">Open the pull request to <code>feedback</code> from <code>main</code></h2>
<p>Once your <code>feedback</code> (or <code>feedback-N</code>) branch exists and matches <code>main</code>, you will open a PR where grading and feedback will happen.</p>
<p>Pull requests are created through the GitHub web interface, not RStudio or the command line.</p>
<p>On GitHub, go to your project repo and open the Pull requests tab. Click New pull request.</p>
<p>Set the base branch to <code>feedback</code> and compare branch to <code>main</code>.</p>
<p>GitHub may show “Able to merge” and possibly “0 files changed” if the branches are identical; that’s fine. We are using the PR as a discussion and feedback space, not as a real merge step.</p>
<p>Use a clear PR title ending with “LastName, FirstName”. For example:</p>
<ul>
<li><p>Core Standards / Enrichment project:</p>
<blockquote class="blockquote">
<p>Submission: Pet Adoption - Gilroy, Audrey</p>
</blockquote></li>
<li><p>Integrative Data Project (multiple attempts):</p>
<blockquote class="blockquote">
<p>Submission: Integrative Data Project (2nd draft) - Dowling, Natalie</p>
</blockquote></li>
</ul>
<section id="add-a-pr-description" class="level3">
<h3 class="anchored" data-anchor-id="add-a-pr-description">Add a PR description</h3>
<p>In the PR description, include your full name, the title of the assignment (it should match what you submit on the form), the contents of the repo, and a <em>brief</em> description of the project (or updates since last submission).</p>
<p>You can also add a message to your grader if you like.</p>
<p>Example:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">## Assignment</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Name: Natalie Dowling</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Assignment name: Pet Adoption (control flow)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Description: structured control flow exercise</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">## Contents</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>completed pet-adoption.qmd</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>completed submission.qmd</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>README.md</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>.gitignore</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>output/ folder with a knitted pdf of the main doc and an exported .csv of one of the data frames created in the assignment</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="fu">## Notes for the grader</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>This is the same structured exercise about control flow as the one in the GH classrooms assignment.</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>I built it in its own repo to demonstrate Obj #2.</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Then click Create pull request.</p>
<p>This PR is now your official submission space, equivalent to the auto-generated PR from GitHub Classroom.</p>
</section>
</section>
<section id="complete-the-project-submission-form-1" class="level2">
<h2 class="anchored" data-anchor-id="complete-the-project-submission-form-1">Complete the Project Submission Form</h2>
<p>Just like with a GH Classrooms assignment:</p>
<p>Submit your work via the <a href="d2m-r.github.io/submit.html">Project Submission Form</a>. This requires the URL of your pull request, which you can find by navigating to the request and copying the URL from your browser.</p>
<p><strong><em>Your work is not in the grading queue until you also submit the form!</em></strong></p>
</section>
</section>
<section id="receiving-feedback-and-making-revisions" class="level1">
<h1>Receiving feedback and making revisions</h1>
<p>If you are subscribed to the pull request that you (or the GH auto-bot) created, you will be notified when your grader has left comments. Be aware that you may get multiple notifications as the grader works. You will know it’s complete when you see the general comment with numeric scores.</p>
<p>Your grader will use this PR to leave inline code comments, file-level comments, and a summary review with points awarded.</p>
<p>You can respond to comments in the PR if the assignment invites revision or follow-up. Otherwise, treat the comments as feedback to inform your future work.</p>
<section id="revisions-for-core-standards-and-enrichment-projects" class="level2">
<h2 class="anchored" data-anchor-id="revisions-for-core-standards-and-enrichment-projects">Revisions for Core Standards and Enrichment projects</h2>
<p>Menu projects cannot be resubmitted for a higher grade, but in rare cases your grader may ask you to revise and resubmit for specific purposes.</p>
<p>Typically this is either because:</p>
<ol type="1">
<li><strong>You missed the mark in a way that suggests you didn’t understand the assignment.</strong> Instead of grading your work and giving a 0 (after which you could not resubmit), your grader may suggest you start over to make the most of the work you’ve already done.</li>
<li><strong>You missed the mark in a <em>tiny, trivial</em> way.</strong> Something that was significant enough to where your grader can’t give you the points, but minor enough that it’s clear you could earn the points if you made a very <em>very</em> small correction that you will likely know exactly how to do without any guidance (because that’s how obvious it was that you had a good grasp of the skill!).</li>
</ol>
<p>You <em>may</em> use the PR to notify your grader if you believe there was a clear mistake in grading. For example, if the number assigned in on GitHub does not match Canvas, or if you clearly demonstrated a skill at a high level but the skill does not have any comments or score attached at all.</p>
<p>You <em>may not</em> use the PR (or any other communication) to request resubmission or argue that you deserve a better grade. Outside of clear cases of simple human error, grades will not be changed after they are posted.</p>
</section>
<section id="revisions-for-integrative-data-projects" class="level2">
<h2 class="anchored" data-anchor-id="revisions-for-integrative-data-projects">Revisions for Integrative Data Projects</h2>
<p>The Integrative Data Project allows up to 3 submissions:</p>
<ul>
<li>Each submission attempt will typically use a separate numbered feedback branch and PR:
<ul>
<li>First attempt: PR to <code>feedback-1</code> from <code>main</code></li>
<li>Second attempt: PR to <code>feedback-2</code> from <code>main</code></li>
<li>Third attempt: PR to <code>feedback-3</code> from <code>main</code></li>
</ul></li>
<li>Each submission will be graded separately.</li>
</ul>
<p>Using separate branches and PRs keeps each submission’s feedback and standards clearly organized and easy to review over time.</p>
</section>
<section id="not-merging-branches" class="level2">
<h2 class="anchored" data-anchor-id="not-merging-branches">(Not) Merging branches</h2>
<p>The point of pull requests is usually to merge changes from one branch into another. You’ll see a big green box with a “Merge pull request” button at the bottom of the PR page.</p>
<p>For our purposes, the PR is just a mechanism for comparison and feedback. That feedback is left on the PR itself, and the PR <em>stays open.</em> In other words:</p>
<ol type="1">
<li>Don’t click “Merge pull request.”</li>
<li>Don’t expect a merge from your grader to “close out” the assignment.</li>
</ol>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>